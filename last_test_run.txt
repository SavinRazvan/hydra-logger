============================= test session starts ==============================
platform linux -- Python 3.12.11, pytest-8.4.1, pluggy-1.6.0 -- /home/razvansavin/miniconda3/envs/.hydra_env/bin/python
cachedir: .pytest_cache
rootdir: /home/razvansavin/Projects/hydra-logger
configfile: pyproject.toml
plugins: anyio-4.9.0, cov-6.2.1, mock-3.14.1
collecting ... collected 170 items

tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_config_constructor_still_works PASSED [  0%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_from_config_method_still_works PASSED [  1%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_logging_methods_still_work PASSED [  1%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_get_logger_method_still_works PASSED [  2%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_compatibility_functions_still_work PASSED [  2%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_config_file_formats_still_work PASSED [  3%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_destination_types_still_work PASSED [  4%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_format_types_still_work PASSED [  4%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_parameter_names_still_work PASSED [  5%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_error_handling_still_works PASSED [  5%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_default_config_still_works PASSED [  6%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_layer_fallback_still_works PASSED [  7%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_level_validation_still_works PASSED [  7%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_size_parsing_still_works PASSED [  8%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_imports_still_work PASSED [  8%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_api_signatures_still_work PASSED [  9%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_config_validation_still_works PASSED [ 10%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_file_operations_still_work PASSED [ 10%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_console_output_still_works PASSED [ 11%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_error_handling_patterns_still_work PASSED [ 11%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_performance_patterns_still_work PASSED [ 12%]
tests/test_backward_compatibility.py::TestBackwardCompatibility::test_old_threading_patterns_still_work PASSED [ 12%]
tests/test_compatibility.py::TestSetupLogging::test_setup_logging_basic PASSED [ 13%]
tests/test_compatibility.py::TestSetupLogging::test_setup_logging_file_only PASSED [ 14%]
tests/test_compatibility.py::TestSetupLogging::test_setup_logging_console_only PASSED [ 14%]
tests/test_compatibility.py::TestSetupLogging::test_setup_logging_custom_levels PASSED [ 15%]
tests/test_compatibility.py::TestSetupLogging::test_setup_logging_directory_creation_failure PASSED [ 15%]
tests/test_compatibility.py::TestSetupLogging::test_setup_logging_logger_setup_failure PASSED [ 16%]
tests/test_compatibility.py::TestMigrationFunctions::test_level_int_to_str PASSED [ 17%]
tests/test_compatibility.py::TestMigrationFunctions::test_create_hydra_config_from_legacy PASSED [ 17%]
tests/test_compatibility.py::TestMigrationFunctions::test_create_hydra_config_file_only PASSED [ 18%]
tests/test_compatibility.py::TestMigrationFunctions::test_create_hydra_config_console_only PASSED [ 18%]
tests/test_compatibility.py::TestMigrationFunctions::test_migrate_to_hydra PASSED [ 19%]
tests/test_compatibility.py::TestBackwardCompatibility::test_setup_logging_creates_correct_structure PASSED [ 20%]
tests/test_compatibility.py::TestBackwardCompatibility::test_migration_preserves_functionality PASSED [ 20%]
tests/test_config.py::TestLogDestination::test_valid_file_destination PASSED [ 21%]
tests/test_config.py::TestLogDestination::test_valid_console_destination PASSED [ 21%]
tests/test_config.py::TestLogDestination::test_file_destination_requires_path PASSED [ 22%]
tests/test_config.py::TestLogDestination::test_invalid_level PASSED      [ 22%]
tests/test_config.py::TestLogDestination::test_level_case_insensitive PASSED [ 23%]
tests/test_config.py::TestLogDestination::test_file_destination_without_path_validation PASSED [ 24%]
tests/test_config.py::TestLogDestination::test_valid_formats PASSED      [ 24%]
tests/test_config.py::TestLogDestination::test_format_default_value PASSED [ 25%]
tests/test_config.py::TestLogDestination::test_invalid_format PASSED     [ 25%]
tests/test_config.py::TestLogDestination::test_format_with_file_destination PASSED [ 26%]
tests/test_config.py::TestLogDestination::test_format_with_console_destination PASSED [ 27%]
tests/test_config.py::TestLogLayer::test_valid_layer PASSED              [ 27%]
tests/test_config.py::TestLogLayer::test_default_layer PASSED            [ 28%]
tests/test_config.py::TestLogLayer::test_invalid_level PASSED            [ 28%]
tests/test_config.py::TestLoggingConfig::test_valid_config PASSED        [ 29%]
tests/test_config.py::TestLoggingConfig::test_default_config PASSED      [ 30%]
tests/test_config.py::TestLoggingConfig::test_invalid_default_level PASSED [ 30%]
tests/test_config.py::TestConfigFunctions::test_get_default_config PASSED [ 31%]
tests/test_config.py::TestConfigFunctions::test_load_config_yaml PASSED  [ 31%]
tests/test_config.py::TestConfigFunctions::test_load_config_toml PASSED  [ 32%]
tests/test_config.py::TestConfigFunctions::test_load_config_file_not_found PASSED [ 32%]
tests/test_config.py::TestConfigFunctions::test_load_config_unsupported_format PASSED [ 33%]
tests/test_config.py::TestConfigFunctions::test_load_config_empty_file PASSED [ 34%]
tests/test_config.py::TestConfigFunctions::test_load_config_invalid_yaml PASSED [ 34%]
tests/test_config.py::TestConfigFunctions::test_create_log_directories PASSED [ 35%]
tests/test_config.py::TestConfigFunctions::test_create_log_directories_no_file_destinations PASSED [ 35%]
tests/test_config.py::TestConfigFunctions::test_create_log_directories_existing_directories PASSED [ 36%]
tests/test_config.py::TestConfigFunctions::test_create_log_directories_permission_error PASSED [ 37%]
tests/test_config.py::TestConfigFunctions::test_create_log_directories_empty_path PASSED [ 37%]
tests/test_config.py::TestConfigFunctions::test_create_log_directories_os_error_handling PASSED [ 38%]
tests/test_config_coverage.py::test_load_config_file_not_found PASSED    [ 38%]
tests/test_config_coverage.py::test_load_config_unsupported_extension PASSED [ 39%]
tests/test_config_coverage.py::test_load_config_empty_yaml PASSED        [ 40%]
tests/test_config_coverage.py::test_load_config_yaml_parse_error PASSED  [ 40%]
tests/test_config_coverage.py::test_load_config_toml_parse_error PASSED  [ 41%]
tests/test_config_coverage.py::test_load_config_general_exception PASSED [ 41%]
tests/test_config_coverage.py::test_create_log_directories_oserror PASSED [ 42%]
tests/test_config_coverage.py::test_tomllib_import_logic PASSED          [ 42%]
tests/test_config_coverage.py::test_toml_decode_error_handling PASSED    [ 43%]
tests/test_config_coverage.py::test_attribute_error_handling PASSED      [ 44%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_tomli_import_fallback PASSED [ 44%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_log_destination_file_without_path_validation PASSED [ 45%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_log_destination_invalid_level PASSED [ 45%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_log_layer_invalid_level PASSED [ 46%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_logging_config_invalid_default_level PASSED [ 47%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_load_config_unsupported_format PASSED [ 47%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_load_config_empty_file PASSED [ 48%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_load_config_invalid_yaml PASSED [ 48%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_load_config_invalid_toml PASSED [ 49%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_load_config_general_exception PASSED [ 50%]
tests/test_coverage_gaps.py::TestConfigCoverageGaps::test_config_validation_edge_cases PASSED [ 50%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_file_handler_missing_path_valueerror PASSED [ 51%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_console_handler_creation_failure PASSED [ 51%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_parse_size_empty_string PASSED [ 52%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_parse_size_invalid_format PASSED [ 52%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_log_invalid_level PASSED [ 53%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_no_valid_handlers_warning PASSED [ 54%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_no_valid_handlers_warning_direct PASSED [ 54%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_file_handler_creation_failure_fallback PASSED [ 55%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_file_handler_oserror PASSED [ 55%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_create_handler_final_return_none PASSED [ 56%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_unknown_destination_type PASSED [ 57%]
tests/test_coverage_gaps.py::TestLoggerCoverageGaps::test_destination_validation_error PASSED [ 57%]
tests/test_coverage_gaps.py::TestIntegrationCoverageGaps::test_logger_with_mixed_valid_invalid_destinations PASSED [ 58%]
tests/test_coverage_gaps.py::TestIntegrationCoverageGaps::test_invalid_format_validation PASSED [ 58%]
tests/test_coverage_gaps.py::TestIntegrationCoverageGaps::test_format_with_missing_dependencies PASSED [ 59%]
tests/test_coverage_gaps.py::TestIntegrationCoverageGaps::test_format_normalization PASSED [ 60%]
tests/test_coverage_gaps.py::TestIntegrationCoverageGaps::test_format_with_file_rotation PASSED [ 60%]
tests/test_coverage_gaps.py::TestIntegrationCoverageGaps::test_format_with_console_and_file PASSED [ 61%]
tests/test_integration.py::TestIntegration::test_multi_module_logging_with_custom_paths PASSED [ 61%]
tests/test_integration.py::TestIntegration::test_backward_compatibility_with_custom_path PASSED [ 62%]
tests/test_integration.py::TestIntegration::test_config_file_loading_with_custom_paths PASSED [ 62%]
tests/test_integration.py::TestIntegration::test_log_level_filtering PASSED [ 63%]
tests/test_logger.py::TestHydraLogger::test_default_initialization PASSED [ 64%]
tests/test_logger.py::TestHydraLogger::test_custom_config_initialization PASSED [ 64%]
tests/test_logger.py::TestHydraLogger::test_from_config_file PASSED      [ 65%]
tests/test_logger.py::TestHydraLogger::test_from_config_file_not_found PASSED [ 65%]
tests/test_logger.py::TestHydraLogger::test_from_config_file_invalid PASSED [ 66%]
tests/test_logger.py::TestHydraLogger::test_from_config_file_initialization_error PASSED [ 67%]
tests/test_logger.py::TestHydraLogger::test_custom_folder_paths PASSED   [ 67%]
tests/test_logger.py::TestHydraLogger::test_logging_methods PASSED       [ 68%]
tests/test_logger.py::TestHydraLogger::test_unknown_layer_fallback PASSED [ 68%]
tests/test_logger.py::TestHydraLogger::test_log_method_invalid_level PASSED [ 69%]
tests/test_logger.py::TestHydraLogger::test_log_method_empty_message PASSED [ 70%]
tests/test_logger.py::TestHydraLogger::test_log_method_fallback_to_info PASSED [ 70%]
tests/test_logger.py::TestHydraLogger::test_internal_log_warning_and_error PASSED [ 71%]
tests/test_logger.py::TestHydraLogger::test_logging_to_nonexistent_layer_no_default PASSED [ 71%]
tests/test_logger.py::TestHydraLogger::test_file_rotation PASSED         [ 72%]
tests/test_logger.py::TestHydraLogger::test_multiple_destinations PASSED [ 72%]
tests/test_logger.py::TestHydraLogger::test_size_parsing PASSED          [ 73%]
tests/test_logger.py::TestHydraLogger::test_size_parsing_empty_string PASSED [ 74%]
tests/test_logger.py::TestHydraLogger::test_size_parsing_bytes_format PASSED [ 74%]
tests/test_logger.py::TestHydraLogger::test_get_logger_method PASSED     [ 75%]
tests/test_logger.py::TestHydraLogger::test_invalid_config_structure PASSED [ 75%]
tests/test_logger.py::TestHydraLogger::test_file_permission_error PASSED [ 76%]
tests/test_logger.py::TestHydraLogger::test_threaded_logging PASSED      [ 77%]
tests/test_logger.py::TestHydraLogger::test_log_format_content PASSED    [ 77%]
tests/test_logger.py::TestHydraLogger::test_console_output_capture PASSED [ 78%]
tests/test_logger.py::TestHydraLogger::test_handler_creation_failure_fallback PASSED [ 78%]
tests/test_logger.py::TestHydraLogger::test_initialization_error_handling PASSED [ 79%]
tests/test_logger.py::TestHydraLogger::test_setup_loggers_error_handling PASSED [ 80%]
tests/test_logger.py::TestHydraLogger::test_setup_single_layer_error_handling PASSED [ 80%]
tests/test_logger.py::TestHydraLogger::test_create_handler_unknown_type PASSED [ 81%]
tests/test_logger.py::TestHydraLogger::test_create_file_handler_missing_path PASSED [ 81%]
tests/test_logger.py::TestHydraLogger::test_create_file_handler_permission_error PASSED [ 82%]
tests/test_logger.py::TestHydraLogger::test_create_console_handler_error PASSED [ 82%]
tests/test_logger.py::TestHydraLogger::test_log_invalid_level PASSED     [ 83%]
tests/test_logger.py::TestHydraLogger::test_log_empty_message PASSED     [ 84%]
tests/test_logger.py::TestHydraLogger::test_log_method_fallback PASSED   [ 84%]
tests/test_logger.py::TestHydraLogger::test_get_or_create_logger_fallback_to_default PASSED [ 85%]
tests/test_logger.py::TestHydraLogger::test_get_or_create_logger_create_new_logger PASSED [ 85%]
tests/test_logger.py::TestHydraLogger::test_log_warning_and_error_methods PASSED [ 86%]
tests/test_logger.py::TestHydraLogger::test_initialization_with_exception PASSED [ 87%]
tests/test_logger.py::TestHydraLogger::test_setup_loggers_with_exception PASSED [ 87%]
tests/test_logger.py::TestHydraLogger::test_setup_single_layer_with_exception PASSED [ 88%]
tests/test_logger.py::TestHydraLogger::test_create_handler_validation_error PASSED [ 88%]
tests/test_logger.py::TestHydraLogger::test_create_handler_fallback_to_console PASSED [ 89%]
tests/test_logger.py::TestHydraLogger::test_create_handler_fallback_console_fails PASSED [ 90%]
tests/test_logger.py::TestHydraLogger::test_create_file_handler_os_error PASSED [ 90%]
tests/test_logger.py::TestHydraLogger::test_create_console_handler_exception PASSED [ 91%]
tests/test_logger.py::TestHydraLogger::test_parse_size_value_error PASSED [ 91%]
tests/test_logger.py::TestHydraLogger::test_log_method_exception_fallback PASSED [ 92%]
tests/test_logger.py::TestHydraLogger::test_get_or_create_logger_exception PASSED [ 92%]
tests/test_logger.py::TestHydraLogger::test_log_warning_stderr_output PASSED [ 93%]
tests/test_logger.py::TestHydraLogger::test_log_error_stderr_output PASSED [ 94%]
tests/test_logger.py::TestHydraLogger::test_all_log_formats PASSED       [ 94%]
tests/test_logger.py::TestHydraLogger::test_format_validation PASSED     [ 95%]
tests/test_logger.py::TestHydraLogger::test_format_fallback_behavior PASSED [ 95%]
tests/test_logger.py::TestHydraLogger::test_structured_json_formatter PASSED [ 96%]
tests/test_logger.py::TestHydraLogger::test_json_lines_format PASSED     [ 97%]
tests/test_logger.py::TestHydraLogger::test_mixed_formats_in_layer PASSED [ 97%]
tests/test_logger.py::TestHydraLogger::test_format_with_console_destination PASSED [ 98%]
tests/test_logger.py::TestHydraLogger::test_format_case_insensitivity PASSED [ 98%]
tests/test_logger.py::TestHydraLogger::test_directory_creation_fallback_to_console PASSED [ 99%]
tests/test_logger.py::TestHydraLogger::test_invalid_path_handling PASSED [100%]

================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.11-final-0 _______________

Name                            Stmts   Miss  Cover   Missing
-------------------------------------------------------------
hydra_logger/__init__.py            6      0   100%
hydra_logger/compatibility.py      46      0   100%
hydra_logger/config.py            101      5    95%   30-33, 43-44
hydra_logger/logger.py            298     81    73%   106-127, 140-147, 158, 165-168, 190-195, 199-213, 263, 305-306, 549-553, 568-570, 577, 587, 831-953
-------------------------------------------------------------
TOTAL                             451     86    81%
Coverage HTML written to dir htmlcov
Coverage XML written to file coverage.xml
============================= 170 passed in 1.18s ==============================
