# Advanced Multi-Layer Logging Examples

This directory contains advanced examples that demonstrate sophisticated multi-layer logging scenarios with HydraLogger.

## Overview

These examples showcase:
- **Multiple layers** with different log levels and destinations
- **Multiple formats** (JSON, CSV, Plain-text, Syslog, GELF)
- **Same file logging** - multiple layers writing to the same file
- **Different file logging** - each layer having its own dedicated files
- **Console output** with colored text
- **Structured logging** with extra data
- **Log analysis** and data extraction

## Examples

### 1. Advanced Multi-Layer Demo (`01_advanced_multi_layer_demo.py`)

This example demonstrates comprehensive multi-layer logging with 6 different layers:

#### Layers and Their Configurations:

**FRONTEND Layer:**
- Console output (colored plain-text)
- JSON file (`frontend.json`)
- CSV file (`frontend.csv`)

**BACKEND Layer:**
- Console output (colored plain-text, WARNING+ only)
- Plain text file (`backend.log`)
- Combined file (`combined.log`)

**DATABASE Layer:**
- Syslog format file (`database.syslog`)
- Combined file (`combined.log`)

**PAYMENT Layer:**
- GELF format file (`payment.gelf`)
- JSON file (`payment.json`)

**SECURITY Layer:**
- Console output (colored plain-text, WARNING+ only)
- JSON file (`security.json`)
- Combined file (`combined.log`)

**PERFORMANCE Layer:**
- CSV file (`performance.csv`)
- JSON file (`performance.json`)

#### Features Demonstrated:

‚úÖ **Multiple Formats:** JSON, CSV, Plain-text, Syslog, GELF
‚úÖ **Same File Logging:** BACKEND, DATABASE, SECURITY ‚Üí `combined.log`
‚úÖ **Different File Logging:** Each layer has dedicated files
‚úÖ **Console Output:** FRONTEND, BACKEND, SECURITY with colors
‚úÖ **Structured Logging:** Extra data in JSON and CSV formats
‚úÖ **Different Log Levels:** DEBUG, INFO, WARNING per layer

#### Generated Files:

```
üìÅ examples/logs/advanced/
  ‚îú‚îÄ‚îÄ frontend.json (JSON format)
  ‚îú‚îÄ‚îÄ frontend.csv (CSV format)
  ‚îú‚îÄ‚îÄ backend.log (Plain text)
  ‚îú‚îÄ‚îÄ database.syslog (Syslog format)
  ‚îú‚îÄ‚îÄ payment.gelf (GELF format)
  ‚îú‚îÄ‚îÄ payment.json (JSON format)
  ‚îú‚îÄ‚îÄ security.json (JSON format)
  ‚îú‚îÄ‚îÄ performance.csv (CSV format)
  ‚îú‚îÄ‚îÄ performance.json (JSON format)
  ‚îî‚îÄ‚îÄ combined.log (Multiple layers in same file)
```

### 2. Log Analysis Demo (`02_log_analysis_demo.py`)

This example demonstrates how to read and analyze the log files generated by the advanced multi-layer demo.

#### Analysis Features:

**Format Reading:**
- JSON log parsing
- CSV log parsing
- Plain text log parsing
- Syslog format parsing
- GELF format parsing

**Data Analysis:**
- User interaction tracking
- API call analysis
- Payment status analysis
- Security event analysis
- Performance metrics analysis
- Cross-format data comparison

**Insights Extracted:**
- User behavior patterns
- System performance metrics
- Security event trends
- Payment processing statistics
- Error rate analysis

## Running the Examples

### Prerequisites

Make sure you have HydraLogger installed and the examples directory structure set up.

### Step 1: Generate Logs

```bash
python examples/10_advanced_multi_layer/01_advanced_multi_layer_demo.py
```

This will create the log files in `examples/logs/advanced/`.

### Step 2: Analyze Logs

```bash
python examples/10_advanced_multi_layer/02_log_analysis_demo.py
```

This will read and analyze the generated log files.

## Configuration Details

### Layer Configuration Structure

Each layer in the advanced example follows this structure:

```python
"LAYER_NAME": {
    "level": "INFO",  # Default level for this layer
    "destinations": [
        {
            "type": "console|file",
            "format": "json|csv|plain-text|syslog|gelf",
            "level": "DEBUG|INFO|WARNING|ERROR|CRITICAL",
            "path": "file_path",  # For file destinations
            "color_mode": "always|never|auto"  # For console destinations
        }
    ]
}
```

### Format Options

- **JSON:** Structured data with extra fields
- **CSV:** Tabular data format
- **Plain-text:** Human-readable format
- **Syslog:** Standard syslog format
- **GELF:** Graylog Extended Log Format

### Color Modes

- **always:** Force colors (even in files)
- **never:** No colors
- **auto:** Automatic detection based on environment

## Use Cases

### Real-World Applications

1. **Web Application Logging:**
   - Frontend user interactions
   - Backend API calls
   - Database operations
   - Security events

2. **E-commerce Platform:**
   - User behavior tracking
   - Payment processing
   - Inventory management
   - Security monitoring

3. **Microservices Architecture:**
   - Service-to-service communication
   - Performance monitoring
   - Error tracking
   - Distributed tracing

4. **Security Monitoring:**
   - Authentication events
   - Access control logs
   - Threat detection
   - Compliance reporting

### Benefits

1. **Separation of Concerns:** Each layer handles specific functionality
2. **Flexible Output:** Multiple formats for different use cases
3. **Performance Optimization:** Different log levels per layer
4. **Data Analysis:** Structured logging enables easy analysis
5. **Debugging:** Detailed logs for troubleshooting
6. **Monitoring:** Real-time insights into system behavior

## Customization

You can customize the examples by:

1. **Adding New Layers:** Define additional layers for your specific needs
2. **Changing Formats:** Use different formats for different destinations
3. **Adjusting Log Levels:** Set appropriate levels for each layer
4. **Adding Destinations:** Configure additional output destinations
5. **Customizing Analysis:** Modify the analysis scripts for your data

## Best Practices

1. **Layer Naming:** Use descriptive, consistent layer names
2. **Log Levels:** Set appropriate levels for each layer and destination
3. **File Organization:** Organize log files in a clear directory structure
4. **Data Structure:** Use consistent extra data structure across layers
5. **Performance:** Consider log volume and rotation policies
6. **Security:** Be careful with sensitive data in logs
7. **Analysis:** Regularly analyze logs for insights and issues

## Troubleshooting

### Common Issues

1. **Missing Log Files:** Ensure the examples/logs/advanced directory exists
2. **Permission Errors:** Check file write permissions
3. **Format Errors:** Verify JSON/CSV format compatibility
4. **Analysis Errors:** Ensure log files are generated before analysis

### Debug Tips

1. Check console output for immediate feedback
2. Verify file creation in the logs directory
3. Examine log file contents for format issues
4. Use the analysis script to validate log data

## Next Steps

After running these examples, you can:

1. **Customize the Configuration:** Modify the layer setup for your needs
2. **Add More Layers:** Create additional layers for specific functionality
3. **Implement Real Data:** Replace simulated data with actual application data
4. **Build Analysis Tools:** Create custom analysis scripts for your use case
5. **Integrate with Monitoring:** Connect to monitoring and alerting systems 